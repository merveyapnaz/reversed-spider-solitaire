(function(e){function t(t){for(var s,i,c=t[0],o=t[1],d=t[2],l=0,h=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},n={app:0},a=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4a72":function(e,t,r){},"52f6":function(e,t,r){},"556f":function(e,t,r){e.exports=r.p+"img/distributeCard.5edb6d99.jpg"},"564b":function(e,t,r){e.exports=r.p+"img/hint.b2e13f7e.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("SpiderSolitaire")],1)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"header"},[r("h1",{staticClass:"title"},[e._v("Reversed Spider Solitaire")]),r("div",{staticClass:"header-items"},[r("timer",{ref:"timer",attrs:{isRunning:e.isTimerRunning}}),r("score-table",{attrs:{score:e.score}}),r("custom-button",{attrs:{type:e.buttonTypeEnum.Hint},on:{hint:e.hint}}),r("custom-button",{attrs:{type:e.buttonTypeEnum.NewGame},on:{newGame:e.newGame}})],1)]),r("div",{staticClass:"board"},[r("div",{staticClass:"board-header"},[r("div",{staticClass:"undistributed-deck"},[e.undistributedDeck.length?r("card",{key:e.refreshCard+"Distribute",attrs:{card:e.distributeCard},nativeOn:{click:function(t){return e.distributeCards.apply(null,arguments)}}}):r("card",{attrs:{card:{type:e.cardTypeEnum.Holder}}})],1),r("div",{staticClass:"complated-decks"},[e._l(e.complatedDeckCount,(function(t){return r("div",{key:"completedDeck"+t},[r("card",{attrs:{card:{type:e.cardTypeEnum.Complated}}})],1)})),e._l(e.unComplatedDeckCount,(function(t){return r("div",{key:"uncomletedDeck"+t},[r("card",{attrs:{card:e.holderCard}})],1)}))],2)]),r("div",{staticClass:"board-body"},e._l(e.decks,(function(t,s){return r("div",{key:s},[t.length?r("div",e._l(t,(function(s){return r("div",{key:s.cardNumber+s.deck,staticClass:"cards",on:{dragstart:function(r){return e.dragStart(s,t)},dragend:function(t){return e.dragEnd()},dragenter:function(r){return e.dragEnter(t)},select:e.distributeCards}},[r("card",{key:e.refreshCard,attrs:{card:s}})],1)})),0):r("div",{staticClass:"card-content",attrs:{draggable:"true"},on:{dragenter:function(r){return e.dragEnter(t)}}},[r("card",{attrs:{card:e.holderCard}})],1)])})),0)]),r("firework",{directives:[{name:"show",rawName:"v-show",value:e.isGameEnd,expression:"isGameEnd"}]}),r("confirm-modal",{directives:[{name:"show",rawName:"v-show",value:e.confirmModalShow,expression:"confirmModalShow"}],attrs:{text:"Are you sure you want to start a new game?"},on:{confirmModalResponse:e.confirmModalResponse}})],1)},c=[],o=(r("c740"),r("fb6a"),r("a434"),r("159b"),r("4de4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-content"},[e.card.type==e.cardTypeEnum.Card?r("div",[e.card.isOpen?r("div",{staticClass:"card heart",class:e.card.isSelected?"selected":"",attrs:{draggable:"true"}},[r("div",{staticClass:"card-top"},[r("div",{staticClass:"number"},[e._v(e._s(e.card.cardNumber))]),r("div",{staticClass:"symbol-small"},[e._v(e._s(e.symbol))])]),r("div",{staticClass:"symbol-large"},[e._v(e._s(e.symbol))])]):r("div",{staticClass:"card down"})]):e.card.type==e.cardTypeEnum.Distribute?r("div",{staticClass:"card-distribute",class:e.card.isSelected?"selected":""}):e.card.type==e.cardTypeEnum.Holder?r("div",{staticClass:"card-holder",attrs:{draggable:"true"}}):e.card.type==e.cardTypeEnum.Complated?r("div",{staticClass:"card heart"},[r("div",{staticClass:"card-top"},[r("div",{staticClass:"number"},[e._v("A")]),r("div",{staticClass:"symbol-small"},[e._v(e._s(e.symbol))])]),r("div",{staticClass:"symbol-large"},[e._v(e._s(e.symbol))])]):e._e()])}),d=[],u={Card:1,Distribute:2,Holder:3,Complated:4},l={name:"Card",props:{card:{type:Object,required:!0}},watch:{card:function(){}},data:function(){return{symbol:"â™¥",cardTypeEnum:u}}},h=l,f=(r("7e48"),r("2877")),p=Object(f["a"])(h,o,d,!1,null,"741783a3",null),m=p.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(30,(function(e){return r("div",{key:e,class:"firework-"+e})})),0)},b=[],k={name:"Firework"},C=k,g=(r("d4df"),Object(f["a"])(C,v,b,!1,null,"5ba5f316",null)),y=g.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-item timer"},[s("img",{attrs:{src:r("bd7e")}}),e._v(e._s(this.timer)+" ")])},D=[],O={name:"Timer",data:function(){return{hour:0,minute:0,second:0}},props:{isRunning:{type:Boolean,default:!0}},computed:{timer:function(){return this.checkTime(this.hour)+":"+this.checkTime(this.minute)+":"+this.checkTime(this.second)}},methods:{setTimer:function(){59==this.second?(this.second=0,59==this.minute?(this.minute=0,this.hour++):this.minute++):this.second++},checkTime:function(e){return e<10&&(e="0"+e),e},getTimerValue:function(){return 3600*this.hour+60*this.minute+this.second}},created:function(){var e=this;setInterval((function(){e.isRunning&&e.setTimer()}),1e3)}},_=O,T=Object(f["a"])(_,w,D,!1,null,null,null),E=T.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-item score-table"},[s("img",{attrs:{src:r("5f99")}}),e._v(e._s(this.score)+" ")])},N=[],x=(r("a9e3"),{name:"ScoreTable",props:{score:{type:Number,default:0}}}),$=x,j=Object(f["a"])($,S,N,!1,null,null,null),M=j.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-item custom-button",on:{click:e.callback}},[s("img",{attrs:{src:r("bb6e")("./"+e.src)}}),e._v(e._s(e.name)+" ")])},P=[],R=(r("b0c0"),{NewGame:1,Hint:2}),A={name:"Button",props:{type:{type:Number,required:!0}},data:function(){return{buttonTypeEnum:R,name:"",src:"",callbackFunction:""}},methods:{callback:function(){this.$emit(this.callbackFunction)}},created:function(){this.type==this.buttonTypeEnum.NewGame?(this.name="New Game",this.src="refresh.svg",this.callbackFunction="newGame"):(this.name="Hint",this.src="hint.svg",this.callbackFunction="hint")}},H=A,V=Object(f["a"])(H,G,P,!1,null,null,null),F=V.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"confirm-modal"},[r("div",{staticClass:"confirm-modal-text"},[e._v(" "+e._s(e.text)+" ")]),r("div",{staticClass:"confirm-modal-buttons"},[r("div",{staticClass:"confirm-btn-yes",on:{click:e.newGame}},[e._v("Yes")]),r("div",{staticClass:"confirm-btn-no",on:{click:e.cancel}},[e._v("No")])])])},z=[],I={name:"ConfirmModal",props:{text:{type:String,default:""}},methods:{newGame:function(){this.$emit("confirmModalResponse",!0)},cancel:function(){this.$emit("confirmModalResponse",!1)}}},J=I,U=(r("72f0"),Object(f["a"])(J,B,z,!1,null,"6e2964a6",null)),W=U.exports,Y={Move:1,DeckComplate:2,GameEnd:3},q=(r("99af"),{cardNumbers:["A","2","3","4","5","6","7","8","9","10","J","Q","K"],totalDeckCount:8,movePoint:100,deckComplatePoint:500}),K=q,L=r("2909"),Q={shuffleArray:function(e){try{var t,r,s;for(s=e.length-1;s>0;s--)t=Math.floor(Math.random()*(s+1)),r=e[s],e[s]=e[t],e[t]=r;return e}catch(a){var n="Error : ".concat(a.message);throw console.log(n),n}},chunkArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var r=Object(L["a"])(e),s=[];if(t<=0)return s;while(r.length)s.push(r.splice(0,t));return s}catch(a){var n="Error : ".concat(a.message);throw console.log(n),n}}},X=Q,Z={initializeCards:function(){var e=this,t=[],r=[],s=[];K.cardNumbers.forEach((function(r){var s=e.getCardNumber(r);t.push({cardNumber:r,isOpen:!1,deck:1,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:2,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:3,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:4,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:5,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:6,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:7,value:s,type:u.Card},{cardNumber:r,isOpen:!1,deck:8,value:s,type:u.Card})}));var n=X.shuffleArray(t);s=X.chunkArray(n.slice(0,24),6),s=s.concat(X.chunkArray(n.slice(24,54),5)),r=n.slice(54,104),s.forEach((function(e){e[e.length-1].isOpen=!0}));var a={undistributedDeck:r,distributedDecks:s};return a},getCardNumber:function(e){var t=0;switch(e){case"A":t=1;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13;break;default:t=parseInt(e);break}return t},sortOfCardsCheck:function(e){try{for(var t=0;t<e.length;t++)if(t<e.length-1&&e[t+1].value-e[t].value!=1)return!1;return!0}catch(s){var r="Error : ".concat(s.message);throw console.log(r),r}},moveCheck:function(e,t){try{return!!e.isOpen&&!!this.sortOfCardsCheck(t)}catch(s){var r="Error : ".concat(s.message);throw console.log(r),r}},dropCheck:function(e,t){try{return e.type==u.Holder||!!e.isOpen&&!!this.sortOfCardsCheck([e,t])}catch(s){var r="Error : ".concat(s.message);throw console.log(r),r}}},ee=Z,te={name:"SpiderSolitaire",components:{card:m,firework:y,timer:E,"score-table":M,"custom-button":F,"confirm-modal":W},data:function(){return{decks:[],complatedDeckCount:0,unComplatedDeckCount:this.$app.totalDeckCount,undistributedDeck:[],selectedCard:{},selectedCards:[],selectedDeck:[],targetCard:{},targetDeck:[],isTimerRunning:!0,isGameEnd:!1,timerValue:0,score:0,cardTypeEnum:u,buttonTypeEnum:R,holderCard:{type:u.Holder},complatedCard:{type:u.Complated},distributeCard:{type:u.Distribute},refreshCard:0,confirmModalShow:!1}},watch:{complatedDeckCount:function(){this.unComplatedDeckCount=this.$app.totalDeckCount-this.complatedDeckCount}},methods:{initializeCards:function(){var e=ee.initializeCards();this.undistributedDeck=e.undistributedDeck,this.decks=e.distributedDecks},dragStart:function(e,t){var r=this;this.selectedDeck=t,this.selectedCard=e;var s=this.selectedDeck.findIndex((function(e){return e.cardNumber===r.selectedCard.cardNumber&&e.deck===r.selectedCard.deck}));this.selectedCards=this.selectedDeck.slice(s),ee.moveCheck(e,this.selectedCards)||(this.$Toastr.showToastr("error","You can't move selected card."),this.removeSelections())},dragEnter:function(e){this.targetDeck=e,this.targetCard=e[e.length-1]},dragEnd:function(){var e=this;ee.dropCheck(this.targetCard,this.selectedCard)?(this.selectedDeck.splice(-1*this.selectedCards.length),this.selectedDeck.length&&(this.selectedDeck[this.selectedDeck.length-1].isOpen=!0),this.selectedCards.forEach((function(t){e.targetDeck.push(t)})),this.updateScore(Y.Move),this.deckComplatedCheck()):this.targetCard!=this.selectedCard&&this.$Toastr.showToastr("error","You can't move card here."),this.removeSelections()},deckComplatedCheck:function(){var e=this.targetDeck.filter((function(e){if(e.isOpen)return e}));e.length>=13&&ee.sortOfCardsCheck(e.slice(-13))&&this.deckComplate()},deckComplate:function(){this.targetDeck.splice(-13),this.targetDeck.length&&(this.targetDeck[this.targetDeck.length-1].isOpen=!0),this.complatedDeckCount++,this.updateScore(Y.DeckComplate),this.$Toastr.showToastr("success","Deck completed successfully."),this.complatedDeckCount==this.$app.totalDeckCount&&(this.isTimerRunning=!1,this.isGameEnd=!0,this.updateScore(Y.GameEnd),this.$Toastr.showToastr("success","CONGRATULATIONS :) :)"))},distributeCards:function(){var e=this;this.undistributedDeck.length&&this.decks.forEach((function(t){var r=e.undistributedDeck.pop();r.isOpen=!0,t.push(r)}))},removeSelections:function(){this.selectedCard={},this.selectedCards=[],this.selectedDeck=[],this.targetCard={},this.targetDeck=[]},getTimerValue:function(){this.timerValue=this.$refs.timer.getTimerValue()},updateScore:function(e){switch(e){case Y.Move:this.score+=this.$app.movePoint;break;case Y.DeckComplate:this.score+=this.$app.deckComplatePoint;break;case Y.GameEnd:this.getTimerValue(),this.score-=this.timerValue;break;default:break}},newGame:function(){this.confirmModalShow=!0},hint:function(){for(var e=!1,t=0;t<this.decks.length;t++){var r=this.decks[t].filter((function(e){if(e.isOpen)return e}));if(r.length<=0||e)break;var s=!1;while(!s)ee.sortOfCardsCheck(r)?s=!0:r.shift();for(var n=0;n<this.decks.length;n++){var a=this.decks[n];if(t!=n&&this.checkHintTargetDeckMove(a,r)){a[a.length-1].isSelected=!0,r.forEach((function(e){e.isSelected=!0})),this.refreshCard++,e=!0;break}if(e)break}}e||(this.undistributedDeck.length>0?(this.distributeCard.isSelected=!0,this.refreshCard++):this.$Toastr.showToastr("warning","There are no possible moves left.")),this.removeHintSelections()},checkHintTargetDeckMove:function(e,t){var r=!1;return e.length>0&&e[e.length-1].isOpen&&ee.dropCheck(e[e.length-1],t[0])&&(r=!0),r},removeHintSelections:function(){var e=this;setTimeout((function(){e.decks.forEach((function(e){e.forEach((function(e){e.isSelected=!1}))})),e.distributeCard.isSelected=!1,e.refreshCard++}),1e3)},confirmModalResponse:function(e){e&&this.openNewGame(),this.confirmModalShow=!1},openNewGame:function(){window.location.reload()}},created:function(){this.initializeCards()}},re=te,se=(r("f785"),Object(f["a"])(re,i,c,!1,null,"70526bd3",null)),ne=se.exports,ae={name:"App",components:{SpiderSolitaire:ne}},ie=ae,ce=Object(f["a"])(ie,n,a,!1,null,null,null),oe=ce.exports,de=r("7329"),ue=r.n(de),le={showToastr:function(e,t){new ue.a({type:e,layout:"bottomRight",theme:"bootstrap-v4",text:t,timeout:"4000",progressBar:!0,closeWith:["click"],killer:!0}).show()}};Object.defineProperty(s["a"].prototype,"$Toastr",{value:le}),Object.defineProperty(s["a"].prototype,"$utilities",{value:X}),Object.defineProperty(s["a"].prototype,"$app",{value:K}),r("7e79"),r("4a72"),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(oe)}}).$mount("#app")},"5f99":function(e,t,r){e.exports=r.p+"img/handGesture.d862e814.svg"},"64a0":function(e,t,r){e.exports=r.p+"img/cardBackground.897dc29b.svg"},"72f0":function(e,t,r){"use strict";r("c966")},"7c65":function(e,t,r){},"7e48":function(e,t,r){"use strict";r("7c65")},"7e79":function(e,t,r){},"8d7e":function(e,t,r){e.exports=r.p+"img/refresh.96c7ac5b.svg"},a5e1:function(e,t,r){},bb6e:function(e,t,r){var s={"./cardBackground.svg":"64a0","./distributeCard.jpg":"556f","./handGesture.svg":"5f99","./hint.svg":"564b","./refresh.svg":"8d7e","./stopWatch.svg":"bd7e"};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id="bb6e"},bd7e:function(e,t,r){e.exports=r.p+"img/stopWatch.be431fc9.svg"},c966:function(e,t,r){},d4df:function(e,t,r){"use strict";r("52f6")},f785:function(e,t,r){"use strict";r("a5e1")}});
//# sourceMappingURL=app.14a5cd15.js.map